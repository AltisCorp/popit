(function(a){a.fn.mailcheck=function(a,b){var c="yahoo.com,google.com,hotmail.com,gmail.com,me.com,aol.com,mac.com,live.com,comcast.net,googlemail.com,msn.com,hotmail.co.uk,yahoo.co.uk,facebook.com,verizon.net,sbcglobal.net,att.net,gmx.com,mail.com".split(","),d="co.uk,com,net,org,info,edu,gov,mil".split(",");if("object"==typeof a&&void 0===b)a.domains=a.domains||c;else{var e=a,a=b;a.domains=e||c}a.topLevelDomains=a.topLevelDomains||d,a.distanceFunction=Kicksend.sift3Distance,(c=Kicksend.mailcheck.suggest(encodeURI(this.val()),a.domains,a.topLevelDomains,a.distanceFunction))?a.suggested&&a.suggested(this,c):a.empty&&a.empty(this)}})(jQuery);var Kicksend={mailcheck:{threshold:3,suggest:function(a,b,c,d){a=a.toLowerCase(),a=this.splitEmail(a);if(b=this.findClosestDomain(a.domain,b,d)){if(b!=a.domain)return{address:a.address,domain:b,full:a.address+"@"+b}}else if(c=this.findClosestDomain(a.topLevelDomain,c),a.domain&&c&&c!=a.topLevelDomain)return b=a.domain,b=b.substring(0,b.lastIndexOf(a.topLevelDomain))+c,{address:a.address,domain:b,full:a.address+"@"+b};return!1},findClosestDomain:function(a,b,c){var d,e=99,f=null;if(!a||!b)return!1;c||(c=this.sift3Distance);for(var g=0;g<b.length;g++){if(a===b[g])return a;d=c(a,b[g]),d<e&&(e=d,f=b[g])}return e<=this.threshold&&null!==f?f:!1},sift3Distance:function(a,b){if(null==a||0===a.length)return null==b||0===b.length?0:b.length;if(null==b||0===b.length)return a.length;for(var c=0,d=0,e=0,f=0;c+d<a.length&&c+e<b.length;){if(a.charAt(c+d)==b.charAt(c+e))f++;else for(var g=e=d=0;5>g;g++){if(c+g<a.length&&a.charAt(c+g)==b.charAt(c)){d=g;break}if(c+g<b.length&&a.charAt(c)==b.charAt(c+g)){e=g;break}}c++}return(a.length+b.length)/2-f},splitEmail:function(a){a=a.split("@");if(2>a.length)return!1;for(var b=0;b<a.length;b++)if(""===a[b])return!1;var c=a.pop(),d=c.split("."),e="";if(0==d.length)return!1;if(1==d.length)e=d[0];else{for(b=1;b<d.length;b++)e+=d[b]+".";2<=d.length&&(e=e.substring(0,e.length-1))}return{topLevelDomain:e,domain:c,address:a.join("@")}}}}